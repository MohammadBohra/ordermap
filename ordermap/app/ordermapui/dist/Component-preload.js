//@ui5-bundle ordermapui/Component-preload.js
sap.ui.predefine("ordermapui/Component", ["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("ordermapui.Component",{metadata:{manifest:"json"}})});
sap.ui.predefine("ordermapui/ext/controller/CreateOrder", ["sap/m/MessageToast","sap/m/MessageBox"],function(e,r){"use strict";return{create_sales_order:async function(s,o){try{if(!o||o.length===0){e.show("Please select a row to create SAP order.");return}const s=o[0];const a=s.getObject();const i=a.SapOrderId;const c=a.IdocNumber;const d=a.MessageType;const f=a.Message;const m=e=>e===null||e===undefined||e===""||typeof e==="string"&&/^0+$/.test(e);const g=this;const l=m(i)&&(m(c)||!m(c)&&d==="E");const u=!m(c)&&d==="E";if(u){r.confirm("Previous order submission failed.\n\nValidate the order details before submitting a new request. \n\n Do you want to submit a new reqtuest?",{title:"Confirm Order Creation",actions:[r.Action.NO,r.Action.YES],emphasizedAction:r.Action.NO,onClose:async function(e){if(e===r.Action.YES){if(l){const e=s.sPath;var o="";var t="";const n=e.match(/OrderId=(\d+),WebServiceID='([^']+)'/);if(n){o=n[1];t=n[2]}const a=s.getModel().bindContext("/create_sales_order(...)");a.setParameter("OrderId",o);a.setParameter("WebServiceID",t);a.setParameter("APIName",s.getObject().APIName);await a.execute().catch(function(e){let s="Order creation failed.";if(e?.error?.message){s=e.error.message}else if(e?.message){s=e.message}r.error(s);sap.ui.getCore().getMessageManager().removeAllMessages();return Promise.reject(e)});const i=a.getBoundContext().getObject();const c=i.SapOrderId||"";const d=i.IdocNumber||"";const f=i.MessageType;const m=i.Message||"";if(!f){r.error("Order creation failed. Unknown error occurred.")}else if(f==="S"){r.success(`SAP IDoc created successfully for BigCommerce order ${i.OrderId}.\nIDoc Number: ${d||"N/A"}`)}else if(f==="E"){r.error(`Order ${i.OrderId} creation failed.\n${m||"Unknown error occurred."}`)}else{r.information(m||"Unexpected response received.")}}else{if(!m(i)){r.information(`SAP order already exists.\nSAP order number: ${i}`)}else if(!m(c)){r.information(`SAP order creation is already in progress.\nIDoc number: ${c}`)}else if(d&&d!=="E"){r.information(`SAP order creation cannot be triggered.\nCurrent message type: ${f}`)}else{r.information("SAP Order creation cannot be triggered for the selected record.")}return}}}})}else{if(l){const e=s.sPath;var t="";var n="";const o=e.match(/OrderId=(\d+),WebServiceID='([^']+)'/);if(o){t=o[1];n=o[2]}const a=s.getModel().bindContext("/create_sales_order(...)");a.setParameter("OrderId",t);a.setParameter("WebServiceID",n);await a.execute();const i=a.getBoundContext().getObject();const c=i.SapOrderId||"";const d=i.IdocNumber||"";const f=i.MessageType;const m=i.Message||"";if(!f){r.error("Order creation failed. Unknown error occurred.")}else if(f==="S"){r.success(`SAP IDoc created successfully for BigCommerce order ${i.OrderId}.\nIDoc Number: ${d||"N/A"}`)}else if(f==="E"){r.error(`Order ${i.OrderId} creation failed.\n${m||"Unknown error occurred."}`)}else{r.information(m||"Unexpected response received.")}}else{if(!m(i)){sap.m.MessageBox.information(`SAP Order already exists.\nSAP Order Number: ${i}`)}else if(!m(c)){sap.m.MessageBox.information(`SAP Order creation is already in progress.\nIDoc Number: ${c}`)}else if(d&&d!=="E"){sap.m.MessageBox.information(`SAP Order creation cannot be triggered.\nMissing SAP information`)}else{sap.m.MessageBox.information("SAP Order creation cannot be triggered for the selected record.")}return}}}catch(e){r.error(e.error.message);sap.ui.getCore().getMessageManager().removeAllMessages()}}}});
sap.ui.predefine("ordermapui/ext/controller/DisplayOrder", ["sap/m/MessageToast","sap/m/MessageBox"],function(s,e){"use strict";return{display_sales_order:async function(e,o){try{if(!o||o.length===0){s.show("Please select a row to display SAP order.");return}const e=o[0];const a=e.getObject();const t=a.SapOrderId;const n=s=>s===null||s===undefined||s===""||typeof s==="string"&&/^0+$/.test(s);if(n(t)){sap.m.MessageBox.information("SAP Sales Order does not exist for the selected record.");return}const c=window.location.host;const r={"cg-development-xf3f5z2w.launchpad.cfapps.us21.hana.ondemand.com":"http://usvhhadldev01.rustoleumcorp.com:8001","cg-quality-zqqdey85.launchpad.cfapps.us21.hana.ondemand.com":"http://usvhhadltrn01.rustoleumcorp.com:8000","cg-production-5sou7b50.launchpad.cfapps.us21.hana.ondemand.com":"http://usvhhaplprda2.rustoleumcorp.com:8000"};let d=r[c];let p="100";const l="EN";const u=`*VA03 VBAK-VBELN=${t};DYNP_OKCODE=/00`;const i=encodeURIComponent(u);const h=`${d}/sap/bc/gui/sap/its/webgui/`+`?~transaction=${i}`+`&sap-client=${p}`+`&sap-language=${l}`;window.open(h,"_blank")}catch(e){console.error("Display sales order failed",e);s.show("Unable to display SAP sales order")}}}});
sap.ui.predefine("ordermapui/ext/controller/ListReportExt.controller", ["sap/ui/core/message/MessageManager"],function(e){"use strict";return{onBeforeRebindTableExtension:function(e){var s=sap.ui.getCore().getMessageManager();s.removeAllMessages()}}});
sap.ui.require.preload({
	"ordermapui/i18n/i18n.properties":'# This is the resource bundle for ordermapui\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Bigcommerce DTC Order Dashboard\n\n#YDES: Application description\nappDescription=Bigcommerce DTC Order Dashboard',
	"ordermapui/manifest.json":'{"_version":"1.76.0","sap.app":{"id":"ordermapui","type":"application","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":[""]},"applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.19.3","toolsId":"71a77d81-6243-4875-9a53-35dffe215ebf"},"dataSources":{"mainService":{"uri":"/odata/v4/orders/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"coupons-app-display":{"semanticObject":"orderdashabord","action":"display","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.143.2","libs":{"sap.m":{},"sap.ui.core":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"ordermapui.i18n.i18n","supportedLocales":[""]}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties","settings":{"supportedLocales":[""]}}},"resources":{"css":[]},"routing":{"config":{},"routes":[{"pattern":":?query:","name":"OrdersList","target":"OrdersList"},{"pattern":"Orders({key}):?query:","name":"OrdersObjectPage","target":"OrdersObjectPage"}],"extends":{"extensions":{"sap.ui.controllerExtensions":{"sap.suite.ui.generic.template.ListReport.view.OrdersList":{"controllerName":"ordermapui.ext.controller.ListReportExt"}}}},"targets":{"OrdersList":{"type":"Component","id":"OrdersList","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/Orders","controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"type":"GridTable","selectionMode":"Single"},"actions":{"DisplayOrder":{"press":"ordermapui.ext.controller.DisplayOrder.display_sales_order","visible":true,"enabled":true,"requiresSelection":true,"text":"Display Sales Order"},"CreateOrder":{"press":"ordermapui.ext.controller.CreateOrder.create_sales_order","visible":true,"enabled":true,"requiresSelection":true,"text":"Create Sales Order"}}}}}}},"OrdersObjectPage":{"type":"Component","id":"OrdersObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/Orders"}}}}},"flexBundle":false},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"ordermap.service"}}'
});
//# sourceMappingURL=Component-preload.js.map
