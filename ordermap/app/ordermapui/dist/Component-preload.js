//@ui5-bundle ordermapui/Component-preload.js
sap.ui.predefine("ordermapui/Component", ["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("ordermapui.Component",{metadata:{manifest:"json"}})});
sap.ui.predefine("ordermapui/ext/controller/CreateOrder", ["sap/m/MessageToast","sap/m/MessageBox"],function(e,r){"use strict";return{create_sales_order:async function(s,o){try{if(!o||o.length===0){e.show("Please select a row to create SAP order.");return}const s=o[0];const n=s.getObject();const i=n.SapOrderId;const c=n.IdocNumber;const d=n.MessageType;const g=e=>e===null||e===undefined||e===""||typeof e==="string"&&/^0+$/.test(e);const m=this;const l=g(i)&&(g(c)||!g(c)&&d==="E");const f=!g(c)&&d==="E";if(f){r.confirm("Previous order submission failed.\n\nValidate the order details before submitting a new request. \n\n Do you want to submit a new reqtuest?",{title:"Confirm Order Creation",actions:[r.Action.NO,r.Action.YES],emphasizedAction:r.Action.NO,onClose:async function(e){if(e===r.Action.YES){if(l){const e=s.sPath;var o="";var a="";const t=e.match(/OrderId=(\d+),WebServiceID='([^']+)'/);if(t){o=t[1];a=t[2]}const n=s.getModel().bindContext("/create_sales_order(...)");n.setParameter("OrderId",o);n.setParameter("WebServiceID",a);n.setParameter("APIName",s.getObject().APIName);await n.execute().catch(function(e){let s="Order creation failed.";if(e?.error?.message){s=e.error.message}else if(e?.message){s=e.message}r.error(s);sap.ui.getCore().getMessageManager().removeAllMessages();return Promise.reject(e)});const i=n.getBoundContext().getObject();let c=i.payload;if(c.length===0){sap.m.MessageBox.error("Unknown error occurred. No response received.");return}let d;if(typeof c==="string"){try{d=JSON.parse(c)}catch(e){sap.m.MessageBox.error("Failed to parse response from server.");sap.ui.getCore().getMessageManager().removeAllMessages();return}}else if(Array.isArray(c)){d=c}else{sap.m.MessageBox.error("Invalid response format from server.");return}if(!d||d.length===0){sap.m.MessageBox.error("No response data received.");return}const g=d[0];const m=g.OrderNumber||"";const l=g.IDOCNumber||"";const f=g.MsgType;const u=g.message||"";if(!f){sap.m.MessageBox.error(`SAP Order creation for BigCommerce order ${m} failed.\n${u||"Unknown error occurred."}`)}else if(f==="S"){sap.m.MessageBox.success(`SAP IDoc created successfully for Bigcommerce order ${m}.\nIDoc Number: ${l||"N/A"}`)}else if(f==="E"){sap.m.MessageBox.error(`Order ${m} creation failed.\n${u||"Unknown error occurred."}`)}else{sap.m.MessageBox.information(`${u}`)}}else{if(!g(i)){sap.m.MessageBox.information(`SAP Order already exists.\nSAP Order Number: ${i}`)}else if(!g(c)){sap.m.MessageBox.information(`SAP Order creation is already in progress.\nIDoc Number: ${c}`)}else if(d&&d!=="E"){sap.m.MessageBox.information(`SAP Order creation cannot be triggered.\nCurrent Message Type: ${d}`)}else{sap.m.MessageBox.information("SAP Order creation cannot be triggered for the selected record.")}return}}}})}else{if(l){const e=s.sPath;var a="";var t="";const r=e.match(/OrderId=(\d+),WebServiceID='([^']+)'/);if(r){a=r[1];t=r[2]}const o=s.getModel().bindContext("/create_sales_order(...)");o.setParameter("OrderId",a);o.setParameter("WebServiceID",t);await o.execute();const n=o.getBoundContext().getObject();let i=n.payload;if(i.length===0){sap.m.MessageBox.error("Unknown error occurred. No response received.");return}let c;if(typeof i==="string"){try{c=JSON.parse(i)}catch(e){sap.m.MessageBox.error("Failed to parse response from server.");sap.ui.getCore().getMessageManager().removeAllMessages();return}}else if(Array.isArray(i)){c=i}else{sap.m.MessageBox.error("Invalid response format from server.");return}if(!c||c.length===0){sap.m.MessageBox.error("No response data received.");return}const d=c[0];const g=d.OrderNumber||"";const m=d.IDOCNumber||"";const l=d.MsgType;const f=d.message||"";if(!l){sap.m.MessageBox.error(`Order ${g} creation failed.\nUnknown error occurred.`)}else if(l==="S"){sap.m.MessageBox.success(`SAP IDoc created successfully for Order ${g}.\nIDoc Number: ${m||"N/A"}`)}else if(l==="E"){sap.m.MessageBox.error(`Order ${g} creation failed.\n${f||"Unknown error occurred."}`)}else{sap.m.MessageBox.error(`Order ${g} creation failed.\nUnexpected message type: ${l}`)}}else{if(!g(i)){sap.m.MessageBox.information(`SAP Order already exists.\nSAP Order Number: ${i}`)}else if(!g(c)){sap.m.MessageBox.information(`SAP Order creation is already in progress.\nIDoc Number: ${c}`)}else if(d&&d!=="E"){sap.m.MessageBox.information(`SAP Order creation cannot be triggered.\nCurrent Message Type: ${d}`)}else{sap.m.MessageBox.information("SAP Order creation cannot be triggered for the selected record.")}return}}}catch(e){r.error(e.error.message);sap.ui.getCore().getMessageManager().removeAllMessages()}}}});
sap.ui.predefine("ordermapui/ext/controller/DisplayOrder", ["sap/m/MessageToast","sap/m/MessageBox"],function(s,e){"use strict";return{display_sales_order:async function(e,o){try{if(!o||o.length===0){s.show("Please select a row to display SAP order.");return}const e=o[0];const a=e.getObject();const t=a.SapOrderId;const n=s=>s===null||s===undefined||s===""||typeof s==="string"&&/^0+$/.test(s);if(n(t)){sap.m.MessageBox.information("SAP Sales Order does not exist for the selected record.");return}const c=window.location.host;const r={"cg-development-xf3f5z2w.launchpad.cfapps.us21.hana.ondemand.com":"http://usvhhadldev01.rustoleumcorp.com:8001","cg-quality-zqqdey85.launchpad.cfapps.us21.hana.ondemand.com":"http://usvhhadltrn01.rustoleumcorp.com:8000","cg-production-5sou7b50.launchpad.cfapps.us21.hana.ondemand.com":"http://usvhhaplprda2.rustoleumcorp.com:8000"};let d=r[c];let p="100";const l="EN";const u=`*VA03 VBAK-VBELN=${t};DYNP_OKCODE=/00`;const i=encodeURIComponent(u);const h=`${d}/sap/bc/gui/sap/its/webgui/`+`?~transaction=${i}`+`&sap-client=${p}`+`&sap-language=${l}`;window.open(h,"_blank")}catch(e){console.error("Display sales order failed",e);s.show("Unable to display SAP sales order")}}}});
sap.ui.predefine("ordermapui/ext/controller/ListReportExt.controller", ["sap/ui/core/message/MessageManager"],function(e){"use strict";return{onBeforeRebindTableExtension:function(e){var s=sap.ui.getCore().getMessageManager();s.removeAllMessages()}}});
sap.ui.require.preload({
	"ordermapui/i18n/i18n.properties":'# This is the resource bundle for ordermapui\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Bigcommerce DTC Order Dashboard\n\n#YDES: Application description\nappDescription=Bigcommerce DTC Order Dashboard',
	"ordermapui/manifest.json":'{"_version":"1.76.0","sap.app":{"id":"ordermapui","type":"application","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":[""]},"applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.19.3","toolsId":"71a77d81-6243-4875-9a53-35dffe215ebf"},"dataSources":{"mainService":{"uri":"/odata/v4/orders/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"coupons-app-display":{"semanticObject":"orderdashabord","action":"display","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.143.2","libs":{"sap.m":{},"sap.ui.core":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"ordermapui.i18n.i18n","supportedLocales":[""]}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties","settings":{"supportedLocales":[""]}}},"resources":{"css":[]},"routing":{"config":{},"routes":[{"pattern":":?query:","name":"OrdersList","target":"OrdersList"},{"pattern":"Orders({key}):?query:","name":"OrdersObjectPage","target":"OrdersObjectPage"}],"extends":{"extensions":{"sap.ui.controllerExtensions":{"sap.suite.ui.generic.template.ListReport.view.OrdersList":{"controllerName":"ordermapui.ext.controller.ListReportExt"}}}},"targets":{"OrdersList":{"type":"Component","id":"OrdersList","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/Orders","controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"type":"GridTable","selectionMode":"Single"},"actions":{"DisplayOrder":{"press":"ordermapui.ext.controller.DisplayOrder.display_sales_order","visible":true,"enabled":true,"requiresSelection":true,"text":"Display Sales Order"},"CreateOrder":{"press":"ordermapui.ext.controller.CreateOrder.create_sales_order","visible":true,"enabled":true,"requiresSelection":true,"text":"Create Sales Order"}}}}}}},"OrdersObjectPage":{"type":"Component","id":"OrdersObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/Orders"}}}}},"flexBundle":false},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"ordermap.service"}}'
});
//# sourceMappingURL=Component-preload.js.map
